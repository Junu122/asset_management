extends layout 

block content
    .container.py-4
      .row.justify-content-center
        .col-lg-8
          .card.shadow
            .card-header.bg-success.text-white
              h4.mb-0 Add New Asset
            
            .card-body
              form#addEmployeeForm(action='/assets/addasset', method='POST')
                .row
                  .col-md-6
                    .form-group.mb-3
                      label.form-label(for='name') Asset Name   *
                      input#name.form-control(type='text', name='name', required)
                  
                  .col-md-6
                    .form-group.mb-3
                      label.form-label(for='serialNumber')  Serial Number  *
                      input#serialNumber.form-control(type='text', name='serialNumber', required)
                
                .row
                  .col-md-6
                    .form-group.mb-3
                      label.form-label(for='assetType') Asset Type  *
                      select#assetType.form-select(name='assetType', required)
                        option(value='') Select Type
                        each category in assetCategories
                         option(value=category.id)= category.categoryName
                        
                   .col-md-6
                    .form-group.mb-3
                      label.form-label(for='make')  make *
                      input#make.form-control(type='text', name='make', required)

                 .row
                  .col-md-6
                    .form-group.mb-3
                      label.form-label(for='model') Model   *
                      input#model.form-control(type='text', name='model', required)
                  
                  .col-md-6
                    .form-group.mb-3
                      label.form-label(for='branch')  Brach Allocated  *
                      input#branch.form-control(type='text', name='branch', required) 

                row
                  .col-md-6
                    .form-group.mb-3
                      label.form-label(for='purchaseDate') Purchase Date   *
                      input#purchaseDate.form-control(type='Date', name='purchaseDate', required)
                  
                     
                .row
                  .col-12
                    .d-flex.justify-content-between
                      a.btn.btn-secondary(href='/employees/viewallemployees') Cancel
                      button.btn.btn-success(type='submit') Add asset

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
    script(src='https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js')
    script.
      $(document).ready(function() {
        $('#addEmployeeForm').on('submit', function(e) {
          const name = $('#name').val().trim();
          const serialNumber = $('#serialNumber').val().trim();
          const assetType = $('#assetType').val().trim();
          const make = $('#make').val();
          const model = $('#model').val().trim();
          const purchaseDate = $('#purchaseDate').val();
          const branch=$('#branch').val()
          
          if (!name || !serialNumber || !assetType || !make || !model || !purchaseDate || !branch) {
            alert('Please fill in all required fields.');
            e.preventDefault();
            return false;
          }
          
          if (salary <= 0) {
            alert('Salary must be greater than 0.');
            e.preventDefault();
            return false;
          }
        });
      });